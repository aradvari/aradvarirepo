/*! jQuery Mobile v1.5.0-alpha.1 | Copyright jQuery Foundation, Inc. | jquery.org/license */

(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(t){typeof define=="function"&&define.amd?define("animationComplete",["jquery"],t):t(e)})(function(e){var t={animation:{},transition:{}},i=n.createElement("a"),s=["","webkit-","moz-","o-"],o={};return e.each(["animation","transition"],function(n,o){var u=n===0?o+"-"+"name":o;e.each(s,function(n,s){if(i.style[e.camelCase(s+u)]!==r)return t[o].prefix=s,!1}),t[o].duration=e.camelCase(t[o].prefix+o+"-"+"duration"),t[o].event=e.camelCase(t[o].prefix+o+"-"+"end"),t[o].prefix===""&&(t[o].event=t[o].event.toLowerCase())}),e.support.cssTransitions=t.transition.prefix!==r,e.support.cssAnimations=t.animation.prefix!==r,e(i).remove(),e.fn.extend({animationComplete:function(i,s,u){var a,f,l=this,c=function(){clearTimeout(a),i.apply(this,arguments)},h=!s||s==="animation"?"animation":"transition";if(!this.length)return this;if(e.support.cssTransitions&&h==="transition"||e.support.cssAnimations&&h==="animation"){if(u===r){this.context!==n&&(f=parseFloat(this.css(t[h].duration))*3e3);if(f===0||f===r||isNaN(f))f=e.fn.animationComplete.defaultDuration}return a=setTimeout(function(){l.off(t[h].event,c).each(function(){i.apply(this)})},f),o[i]={event:t[h].event,binding:c},this.one(t[h].event,c)}return setTimeout(function(){l.each(function(){i.apply(this)})},0),this},removeAnimationComplete:function(e){var t=o[e];return t?this.off(t.event,t.binding):this}}),e.fn.animationComplete.defaultDuration=1e3,e}),function(t){typeof define=="function"&&define.amd?define("ns",["jquery"],t):t(e)}(function(e){return e.mobile={version:"@VERSION"},e.mobile}),function(t){typeof define=="function"&&define.amd?define("data",["jquery","./ns"],t):t(e)}(function(e){var n={},i=e.find,s=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,o=/:jqmData\(([^)]*)\)/g;return e.extend(e.mobile,{ns:e.mobileBackcompat===!1?"ui-":"",getAttribute:function(n,r){var i;n=n.jquery?n[0]:n,n&&n.getAttribute&&(i=n.getAttribute("data-"+e.mobile.ns+r));try{i=i==="true"?!0:i==="false"?!1:i==="null"?null:+i+""===i?+i:s.test(i)?t.JSON.parse(i):i}catch(o){}return i},nsNormalizeDict:n,nsNormalize:function(t){return n[t]||(n[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,n){var i;return typeof t!="undefined"&&(t&&(t=e.mobile.nsNormalize(t)),arguments.length<2||n===r?i=this.data(t):i=this.data(t,n)),i},e.jqmData=function(t,n,r){var i;return typeof n!="undefined"&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.find=function(t,n,r,s){return t.indexOf(":jqmData")>-1&&(t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]")),i.call(this,t,n,r,s)},e.extend(e.find,i),e.mobile}),function(t){typeof define=="function"&&define.amd?define("defaults",["jquery","./ns"],t):t(e)}(function(e){return e.extend(e.mobile,{hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}),function(t){typeof define=="function"&&define.amd?define("jquery-ui/version",["jquery"],t):t(e)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(t){typeof define=="function"&&define.amd?define("jquery-ui/keycode",["jquery","./version"],t):t(e)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){typeof define=="function"&&define.amd?define("helpers",["jquery","./ns","jquery-ui/keycode"],t):t(e)}(function(e){var r=function(t,n){var r=t.parent(),i=[],s=function(){var t=e(this),n=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:t.attr("data-"+e.mobile.ns+"update-page-padding")!==!1};return n.position!=="fixed"||n.updatePagePadding!==!0},o=r.children(":jqmData(type='header')").filter(s),u=t.children(":jqmData(type='header')"),a=r.children(":jqmData(type='footer')").filter(s),f=t.children(":jqmData(type='footer')");return u.length===0&&o.length>0&&(i=i.concat(o.toArray())),f.length===0&&a.length>0&&(i=i.concat(a.toArray())),e.each(i,function(t,r){n-=e(r).outerHeight()}),Math.max(0,n)};return e.extend(e.mobile,{window:e(t),document:e(n),keyCode:e.ui.keyCode,behaviors:{},focusPage:function(e){var t=e.find("[autofocus]");t.length||(t=e.find(".ui-title").eq(0)),t.length||(t=e),t.focus()},silentScroll:function(n){if(e.mobile.window.scrollTop()>0)return;e.type(n)!=="number"&&(n=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,n),e.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var n=e(t).closest(".ui-page").jqmData("url"),r=e.mobile.path.documentBase.hrefNoHash;if(!e.mobile.base.dynamicBaseEnabled||!n||!e.mobile.path.isPath(n))n=r;return e.mobile.path.makeUrlAbsolute(n,r)},removeActiveLinkClass:function(t){!!e.mobile.activeClickedLink&&(!e.mobile.activeClickedLink.closest(".ui-page-active").length||t)&&e.mobile.activeClickedLink.removeClass("ui-button-active"),e.mobile.activeClickedLink=null},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r=t.length,i=e(),s,o,u,a,f;for(a=0;a<r;a++){o=t.eq(a),u=!1,s=t[a];while(s){f=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+n):"";if(f==="false"){u=!0;break}s=s.parentNode}u||(i=i.add(o))}return i},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(n){var i=e(".ui-page-active"),s=i.height(),o=i.outerHeight(!0);n=r(i,typeof n=="number"?n:e(t).height()),i.css("min-height",""),i.height()<n&&i.css("min-height",n-(o-s))},loading:function(){var t=this.loading._widget||e.mobile.loader().element,n=t.loader.apply(t,arguments);return this.loading._widget=t,n},isElementCurrentlyVisible:function(r){r=typeof r=="string"?e(r)[0]:r[0];if(!r)return!0;var i=r.getBoundingClientRect();return i.bottom>0&&i.right>0&&i.top<(t.innerHeight||n.documentElement.clientHeight)&&i.left<(t.innerWidth||n.documentElement.clientWidth)}}),e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0},e.mobile}),function(t){typeof define=="function"&&define.amd?define("core",["./defaults","./data","./helpers"],t):t(e)}(function(){}),function(t){typeof define=="function"&&define.amd?define("media",["jquery","./core"],t):t(e)}(function(e){return t.matchMedia=t.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(s,i),n=o.offsetWidth===42,r.removeChild(s),{matches:n,media:e}}}(n),e.mobile.media=function(e){var n=t.matchMedia(e);return n&&n.matches},e.mobile.media}),function(t){typeof define=="function"&&define.amd?define("support/touch",["jquery","../ns"],t):t(e)}(function(e){var t={touch:"ontouchend"in n};return e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t),e.support}),function(t){typeof define=="function"&&define.amd?define("support/orientation",["jquery"],t):t(e)}(function(e){return e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t}),e.support}),function(t){typeof define=="function"&&define.amd?define("support",["jquery","./core","./media","./support/touch","./support/orientation"],t):t(e)}(function(e){function l(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+o.join(t+" ")+t).split(" "),i;for(i in n)if(s[n[i]]!==r)return!0}function h(){var n=t,r=!!n.document.createElementNS&&!!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&(!n.opera||navigator.userAgent.indexOf("Chrome")!==-1),i=function(t){(!t||!r)&&e("html").addClass("ui-nosvg")},s=new n.Image;s.onerror=function(){i(!1)},s.onload=function(){i(s.width===1&&s.height===1)},s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function p(){var s="transform-3d",u=e.mobile.media("(-"+o.join("-"+s+"),(-")+"-"+s+"),("+s+")"),a,f,l;if(u)return!!u;a=n.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},i.append(a);for(l in f)a.style[l]!==r&&(a.style[l]="translate3d( 100px, 1px, 1px )",u=t.getComputedStyle(a).getPropertyValue(f[l]));return!!u&&u!=="none"}function d(){var e=n.createElement("x"),r=n.documentElement,i=t.getComputedStyle,s;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",r.appendChild(e),s=i&&i(e,"").pointerEvents==="auto",r.removeChild(e),!!s):!1}function v(){var e=n.createElement("div");return typeof e.getBoundingClientRect!="undefined"}function m(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobi\/([0-9]+)/),f=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||a&&f<7458||n.indexOf("Android")>-1&&s&&s<533||u&&u<6||"palmGetResource"in t&&s&&s<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var i=e("<body>").prependTo("html"),s=i[0].style,o=["Webkit","Moz","O"],u="palmGetResource"in t,a=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",f,c=t.blackberry&&!l("-webkit-transform");return e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=n.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(r[0]);return e>4?e:!e}(),e.mobile.browser.newIEMobile=function(){var t=n.createElement("div");return!e.mobile.browser.oldIE&&"onmsgesturehold"in t&&"ontouchstart"in t&&"onpointerdown"in t}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&t.navigator.userAgent.search(/CriOS/)===-1,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!l("content"),touchOverflow:!!l("overflowScrolling"),cssTransform3d:p(),boxShadow:!!l("boxShadow")&&!c,fixedPosition:m(),scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in i[0])&&!u&&!a,cssPointerEvents:d(),boundingRect:v(),inlineSVG:h}),i.remove(),f=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null)},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||a||f,f&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow"),e.support}),function(t){typeof define=="function"&&define.amd?define("events/navigate",["jquery","./../ns","./../support"],t):t(e)}(function(e){var t=e.mobile.window,n,i=function(){};return e.event.special.beforenavigate={setup:function(){t.on("navigate",i)},teardown:function(){t.off("navigate",i)}},e.event.special.navigate=n={bound:!1,pushStateEnabled:!0,originalEventName:r,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(n){var r,i,s;if(n.isDefaultPrevented())return;r=new e.Event("navigate"),i=new e.Event("beforenavigate"),s=n.originalEvent.state||{},i.originalEvent=n,t.trigger(i);if(i.isDefaultPrevented())return;n.historyState&&e.extend(s,n.historyState),r.originalEvent=n,setTimeout(function(){t.trigger(r,{state:s})},0)},hashchange:function(n){var r=new e.Event("navigate"),i=new e.Event("beforenavigate");i.originalEvent=n,t.trigger(i);if(i.isDefaultPrevented())return;r.originalEvent=n,t.trigger(r,{state:n.hashchangeState||{}})},setup:function(){if(n.bound)return;n.bound=!0,n.isPushStateEnabled()?(n.originalEventName="popstate",t.bind("popstate.navigate",n.popstate)):n.isHashChangeEnabled()&&(n.originalEventName="hashchange",t.bind("hashchange.navigate",n.hashchange))}},e.event.special.navigate}),function(t){typeof define=="function"&&define.amd?define("events/scroll",["jquery"],t):t(e)}(function(e){var t="touchmove scroll";return e.each(["scrollstart","scrollstop"],function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function o(t,r){var s=t.type;i=r,t.type=i?"scrollstart":"scrollstop",e.event.dispatch.call(n,t),t.type=s}var n=this,r=e(n),i,s,u=e.event.special.scrollstart.handler=function(t){if(!e.event.special.scrollstart.enabled)return;i||o(t,!0),clearTimeout(s),s=setTimeout(function(){o(t,!1)},50)};r.on(t,u)},teardown:function(){e(this).off(t,e.event.special.scrollstart.handler)}},e.each({scrollstop:"scrollstart"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}}),e.event.special}),function(t){typeof define=="function"&&define.amd?define("vmouse",["jquery"],t):t(e)}(function(e){function T(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function N(t,n){var i=t.type,o,a,l,c,h,p,d,v,m;t=e.Event(t),t.type=n,o=t.originalEvent,a=u,i.search(/^(mouse|click)/)>-1&&(a=f);if(o)for(d=a.length;d;)c=a[--d],t[c]=o[c];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){l=T(o),i=l.touches,h=l.changedTouches,p=i&&i.length?i[0]:h&&h.length?h[0]:r;if(p)for(v=0,m=s.length;v<m;v++)c=s[v],t[c]=p[c]}return t}function C(n){var r={},i,s;while(n){i=e.data(n,t);for(s in i)i[s]&&(r[s]=r.hasVirtualBinding=!0);n=n.parentNode}return r}function k(n,r){var i;while(n){i=e.data(n,t);if(i&&(!r||i[r]))return n;n=n.parentNode}return null}function L(){g=!1}function A(){g=!0}function O(){E=0,v.length=0,m=!1,A()}function M(){L()}function _(){c&&(clearTimeout(c),c=0)}function D(){_(),c=setTimeout(function(){c=0,O()},e.vmouse.resetTimerDuration)}function P(t,n,r){var i;if(r&&r[t]||!r&&k(n.target,t))i=N(n,t),e(n.target).trigger(i);return i}function H(t){var n=e.data(t.target,i),r;t.type==="click"&&e.data(t.target,"lastTouchType")==="touchstart"&&setTimeout(function(){e.data(t.target,"lastTouchType")==="touchstart"&&(O(),delete e.data(t.target).lastTouchType,H(t))},e.vmouse.maximumTimeBetweenTouches),!m&&(!E||E!==n)&&(r=P("v"+t.type,t),r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function B(t){var n=T(t).touches,r,s,o;n&&n.length===1&&(r=t.target,s=C(r),e.data(t.target,"lastTouchType",t.type),s.hasVirtualBinding&&(E=w++,e.data(r,i,E),_(),M(),d=!1,o=T(t).touches[0],h=o.pageX,p=o.pageY,P("vmouseover",t,s),P("vmousedown",t,s)))}function j(t){if(g)return;d||P("vmousecancel",t,C(t.target)),e.data(t.target,"lastTouchType",t.type),d=!0,D()}function F(t){if(g)return;var n=T(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=C(t.target);e.data(t.target,"lastTouchType",t.type),d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&P("vmousecancel",t,s),P("vmousemove",t,s),D()}function I(t){if(g||e.data(t.target,"lastTouchType")===r)return;A(),delete e.data(t.target).lastTouchType;var n=C(t.target),i,s;P("vmouseup",t,n),d||(i=P("vclick",t,n),i&&i.isDefaultPrevented()&&(s=T(t).changedTouches[0],v.push({touchID:E,x:s.clientX,y:s.clientY}),m=!0)),P("vmouseout",t,n),d=!1,D()}function q(n){var r=e.data(n,t),i;if(r)for(i in r)if(r[i])return!0;return!1}function R(){}function U(n){var r=n.substr(1);return{setup:function(){q(this)||e.data(this,t,{});var i=e.data(this,t);i[n]=!0,l[n]=(l[n]||0)+1,l[n]===1&&b.bind(r,H),e(this).bind(r,R),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",B).bind("touchend",I).bind("touchmove",F).bind("scroll",j))},teardown:function(){--l[n],l[n]||b.unbind(r,H),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",B).unbind("touchmove",F).unbind("touchend",I).unbind("scroll",j));var i=e(this),s=e.data(this,t);s&&(s[n]=!1),i.unbind(r,R),q(this)||i.removeData(t)}}}var t="virtualMouseBindings",i="virtualTouchID",s="clientX clientY pageX pageY screenX screenY".split(" "),o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=u.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S,x;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500,maximumTimeBetweenTouches:100};for(x=0;x<o.length;x++)e.event.special[o[x]]=U(o[x]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,s,o,u,a,f,l;if(n){s=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-s)<S&&Math.abs(f.y-o)<S||e.data(u,i)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}),function(t){typeof define=="function"&&define.amd?define("events/touch",["jquery","../vmouse","../support/touch"],t):t(e)}(function(e){function f(t,n,i,s){var o=i.type;i.type=n,s?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=o}var i=e(n),s=e.mobile.support.touch,o=s?"touchstart":"mousedown",u=s?"touchend":"mouseup",a=s?"touchmove":"mousemove";return e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(s){function l(){u&&(n.bind("vclick",a),clearTimeout(u))}function c(){l(),n.unbind("vclick",a).unbind("vmouseup",l),i.unbind("vmousecancel",c)}r=!1;if(s.which&&s.which!==1)return!0;var o=s.target,u,a;a=function(e){c(),!r&&o===e.target?f(t,"tap",e):r&&e.preventDefault()},n.bind("vmouseup",l),i.bind("vmousecancel",c),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),u=0,f(t,"taphold",e.Event("taphold",{target:o}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),i.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:t.devicePixelRatio>=2?15:30,verticalDistanceThreshold:t.devicePixelRatio>=2?15:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,s=e.clientY;if(e.pageY===0&&Math.floor(s)>Math.floor(e.pageY)||e.pageX===0&&Math.floor(i)>Math.floor(e.pageX))i-=n,s-=r;else if(s<e.pageY-r||i<e.pageX-n)i=e.pageX-n,s=e.pageY-r;return{x:i,y:s}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,i){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return f(r,"swipe",e.Event("swipe",{target:i,swipestart:t,swipestop:n}),!0),f(r,s,e.Event(s,{target:i,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),s={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=s,s.start=function(t){if(e.event.special.swipe.eventInProgress)return;e.event.special.swipe.eventInProgress=!0;var r,o=e.event.special.swipe.start(t),f=t.target,l=!1;s.move=function(t){if(!o||t.isDefaultPrevented())return;r=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(o,r,n,f),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(o.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()},s.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,i.off(a,s.move),s.move=null},i.on(a,s.move).one(u,s.stop)},r.on(o,s.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,t.length===0&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(o,n.start),n.move&&i.off(a,n.move),n.stop&&i.off(u,n.stop))}},e.each({taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}}),e.event.special}),function(t){typeof define=="function"&&define.amd?define("widgets/enhancer",["jquery"],t):t(e)}(function(e){var t,n=!1;return e.fn.extend({enhance:function(){return e.enhance.enhance(this)},enhanceWithin:function(){return this.children().enhance(),this},enhanceOptions:function(){return e.enhance.getOptions(this)},enhanceRoles:function(){return e.enhance.getRoles(this)}}),e.enhance=e.enhance||{},e.extend(e.enhance,{enhance:function(t){var n,r=t.find("["+e.enhance.defaultProp()+"]").addBack();e.enhance._filter&&(r=e.enhance._filter(r));for(n=0;n<e.enhance.hooks.length;n++)e.enhance.hooks[n].call(t,r);return e.enhance.defaultFunction.call(t,r),t},hooks:e.enhance.hooks||[],_filter:e.enhance._filter||!1,defaultProp:e.enhance.defaultProp||function(){return"data-ui-role"},defaultFunction:function(t){t.each(function(){var t,n=e(this).enhanceRoles();for(t=0;t<n.length;t++)e.fn[n[t]]&&e(this)[n[t]]()})},cache:!0,roleCache:{},getRoles:function(t){if(!t.length)return[];var n,i=e.enhance.roleCache[t[0].id?t[0].id:r];return i?i:(n=t.attr(e.enhance.defaultProp()),i=n?n.match(/\S+/g):[],e.enhance.roleCache[t[0].id]=i,i)},optionCache:{},getOptions:function(t){var n=e.enhance.optionCache[t[0].id?t[0].id:r],i;return n?n:(n={},i=(e.mobile.ns||"ui-").replace("-",""),e.each(e(t).data(),function(e,t){e=e.replace(i,""),e=e.charAt(0).toLowerCase()+e.slice(1),n[e]=t}),e.enhance.optionCache[t[0].id]=n,n)},_installWidget:function(){e.Widget&&!n&&(e.extend(e.Widget.prototype,{_getCreateOptions:function(e){var t,n,i=this.element.enhanceOptions();e=e||{};for(t in this.options)n=i[t],n!==r&&(e[t]=n);return e}}),n=!0)}}),e.Widget?e.enhance._installWidget():Object.defineProperty(e,"Widget",{configurable:!0,enumerable:!0,get:function(){return t},set:function(n){n&&(t=n,setTimeout(function(){e.enhance._installWidget()}))}}),e.enhance}),function(t){typeof define=="function"&&define.amd?define("navigation/path",["jquery","./../ns"],t):t(e)}(function(e){var n,i,s="&ui-state=dialog";return e.mobile.path=n={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),n=e?t:location,r=t.hash;return r=r==="#"?"":r,n.protocol+t.doubleSlash+n.host+(n.protocol!==""&&n.pathname.substring(0,1)!=="/"?"/":"")+n.pathname+n.search+r},getDocumentUrl:function(t){return t?e.extend({},n.documentUrl):n.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(e.type(t)==="object")return t;var r=n.urlParseRE.exec(t||"")||[];return{href:r[0]||"",hrefNoHash:r[1]||"",hrefNoSearch:r[2]||"",domain:r[3]||"",protocol:r[4]||"",doubleSlash:r[5]||"",authority:r[6]||"",username:r[8]||"",password:r[9]||"",host:r[10]||"",hostname:r[11]||"",port:r[12]||"",pathname:r[13]||"",directory:r[14]||"",filename:r[15]||"",search:r[16]||"",hash:r[17]||""}},makePathAbsolute:function(e,t){var n,r,i,s;if(e&&e.charAt(0)==="/")return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/");for(i=0;i<r.length;i++){s=r[i];switch(s){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}}return"/"+n.join("/")},isSameDomain:function(e,t){return n.parseUrl(e).domain.toLowerCase()===n.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return n.parseUrl(e).protocol===""},isAbsoluteUrl:function(e){return n.parseUrl(e).protocol!==""},makeUrlAbsolute:function(e,t){if(!n.isRelativeUrl(e))return e;t===r&&(t=this.documentBase);var i=n.parseUrl(e),s=n.parseUrl(t),o=i.protocol||s.protocol,u=i.protocol?i.doubleSlash:i.doubleSlash||s.doubleSlash,a=i.authority||s.authority,f=i.pathname!=="",l=n.makePathAbsolute(i.pathname||s.filename,s.pathname),c=i.search||!f&&s.search||"",h=i.hash;return o+u+a+l+c+h},addSearchParams:function(t,r){var i=n.parseUrl(t),s=typeof r=="object"?e.param(r):r,o=i.search||"?";return i.hrefNoSearch+o+(o.charAt(o.length-1)!=="?"?"&":"")+s+(i.hash||"")},convertUrlToDataUrl:function(e){var r=e,i=n.parseUrl(e);return n.isEmbeddedPage(i)?r=i.hash.split(s)[0].replace(/^#/,"").replace(/\?.*$/,""):n.isSameDomain(i,this.documentBase)&&(r=i.hrefNoHash.replace(this.documentBase.domain,"").split(s)[0]),t.decodeURIComponent(r)},get:function(e){return e===r&&(e=n.parseLocation().hash),n.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return n.stripHash(e.replace(/\?.*$/,"").replace(s,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=n.parseUrl(e);return!!t.protocol&&t.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase()},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=n.parseUrl(e);return t.protocol!==""?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var r,i,s,o,u,a=this.isPath(e),f=this.parseUrl(e),l=f.hash,c="";t||(a?t=n.getLocation():(u=n.getDocumentUrl(!0),n.isPath(u.hash)?t=n.squash(u.href):t=u.href)),i=a?n.stripHash(e):e,i=n.isPath(f.hash)?n.stripHash(f.hash):i,o=i.indexOf(this.uiStateKey),o>-1&&(c=i.slice(o),i=i.slice(0,o)),r=n.makeUrlAbsolute(i,t),s=this.parseUrl(r).search;if(a){if(n.isPath(l)||l.replace("#","").indexOf(this.uiStateKey)===0)l="";c&&l.indexOf(this.uiStateKey)===-1&&(l+=c),l.indexOf("#")===-1&&l!==""&&(l="#"+l),r=n.parseUrl(r),r=r.protocol+r.doubleSlash+r.host+r.pathname+s+l}else r+=r.indexOf("#")>-1?c:"#"+c;return r},isPreservableHash:function(e){return e.replace("#","").indexOf(this.uiStateKey)===0},hashToSelector:function(e){var t=e.substring(0,1)==="#";return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split(s)[0]},isFirstPageUrl:function(t){var i=n.parseUrl(n.makeUrlAbsolute(t,this.documentBase)),s=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,u=o&&o[0]?o[0].id:r;return s&&(!i.hash||i.hash==="#"||u&&i.hash.replace(/^#/,"")===u)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&(t.protocol==="file:"||t.protocol==="content:")&&n.search(/^https?:/)!==-1}},n.documentUrl=n.parseLocation(),i=e("head").find("base"),n.documentBase=i.length?n.parseUrl(n.makeUrlAbsolute(i.attr("href"),n.documentUrl.href)):n.documentUrl,n.documentBaseDiffers=n.documentUrl.hrefNoHash!==n.documentBase.hrefNoHash,n.getDocumentBase=function(t){return t?e.extend({},n.documentBase):n.documentBase.href},n}),function(t){typeof define=="function"&&define.amd?define("navigation/history",["jquery","./../ns","./path"],t):t(e)}(function(e){return e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,n){t=t||this.stack;var r,i,s=t.length,o;for(i=0;i<s;i++){r=t[i];if(decodeURIComponent(e)===decodeURIComponent(r.url)||decodeURIComponent(e)===decodeURIComponent(r.hash)){o=i;if(n)return o}}return o},_findById:function(e){var t,n=this.stack.length;for(t=0;t<n;t++)if(this.stack[t].id===e)break;return t<n?t:r},closest:function(e,t){var n=t===r?r:this._findById(t),i=this.activeIndex;return n!==r?n:(n=this.find(e,this.stack.slice(0,i)),n===r&&(n=this.find(e,this.stack.slice(i),!0),n=n===r?n:n+i),n)},direct:function(t){var n=this.closest(t.url,t.id),i=this.activeIndex;n!==r&&(this.activeIndex=n,this.previousIndex=i),n<i?(t.present||t.back||e.noop)(this.getActive(),"back"):n>i?(t.present||t.forward||e.noop)(this.getActive(),"forward"):n===r&&t.missing&&t.missing(this.getActive())}}),e.mobile.History}),function(t){typeof define=="function"&&define.amd?define("navigation/navigator",["jquery","./../ns","../events/navigate","./path","./history"],t):t(e)}(function(e){var r=e.mobile.path,i=location.href;return e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{historyEntryId:0,squash:function(s,o){var u,a,f=r.isPath(s)?r.stripHash(s):s;return a=r.squash(s),u=e.extend({id:++this.historyEntryId,hash:f,url:a},o),t.history&&t.history.replaceState&&t.history.replaceState(u,u.title||n.title,a),this.ignoreInitialHashChange&&(i=a),u},hash:function(e,t){var n,i,s,o;return n=r.parseUrl(e),i=r.parseLocation(),i.pathname+i.search===n.pathname+n.search?s=n.hash?n.hash:n.pathname+n.search:r.isPath(e)?(o=r.parseUrl(t),s=o.pathname+o.search+(r.isPreservableHash(o.hash)?o.hash.replace("#",""):"")):s=e,s},go:function(i,s,o){var u,a,f,l,c=e.event.special.navigate.isPushStateEnabled();a=r.squash(i),f=this.hash(i,a),o&&f!==r.stripHash(r.parseLocation().hash)&&(this.preventNextHashChange=o),this.preventHashAssignPopState=!0,t.location.hash=f,this.preventHashAssignPopState=!1,u=e.extend({url:a,hash:f,title:n.title},s),c&&(l=new e.Event("popstate"),l.originalEvent=new e.Event("popstate",{state:null}),u.id=(this.squash(i,u)||{}).id,o||(this.ignorePopState=!0,e.mobile.window.trigger(l))),this.history.add(u.url,u)},popstate:function(t){var n,s;if(!e.event.special.navigate.isPushStateEnabled())return;if(this.preventHashAssignPopState){this.preventHashAssignPopState=!1,t.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!t.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange){this.ignoreInitialHashChange=!1;if(location.href===i){t.preventDefault();return}}n=r.parseLocation().hash;if(!t.originalEvent.state&&n){s=this.squash(n),this.history.add(s.url,s),t.historyState=s;return}this.history.direct({id:(t.originalEvent.state||{}).id,url:(t.originalEvent.state||{}).url||n,present:function(n,r){t.historyState=e.extend({},n),t.historyState.direction=r}})},hashchange:function(t){var i,s;if(!e.event.special.navigate.isHashChangeEnabled()||e.event.special.navigate.isPushStateEnabled())return;if(this.preventNextHashChange){this.preventNextHashChange=!1,t.stopImmediatePropagation();return}i=this.history,s=r.parseLocation().hash,this.history.direct({url:s,present:function(n,r){t.hashchangeState=e.extend({},n),t.hashchangeState.direction=r},missing:function(){i.add(s,{hash:s,title:n.title})}})}}),e.mobile.Navigator}),function(t){typeof define=="function"&&define.amd?define("navigation/method",["jquery","./path","./history","./navigator"],t):t(e)}(function(e){e.mobile.navigate=function(t,n,r){e.mobile.navigate.navigator.go(t,n,r)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var t=e.mobile.path.parseLocation();return e.mobile.navigate.history.add(t.href,{hash:t.hash}),e.mobile.navigate}),function(t){typeof define=="function"&&define.amd?define("jquery-ui/safe-active-element",["jquery","./version"],t):t(e)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}}),function(t){typeof define=="function"&&define.amd?define("jquery-ui/safe-blur",["jquery","./version"],t):t(e)}(function(e){return e.ui.safeBlur=function(t){t&&t.nodeName.toLowerCase()!=="body"&&e(t).trigger("blur")}}),function(t){typeof define=="function"&&define.amd?define("jquery-ui/widget",["jquery","./version"],t):t(e)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,s;for(s=0;(i=n[s])!=null;s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u={},a=t.split(".")[0];t=t.split(".")[1];var f=a+"-"+t;return r||(r=n,n=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][f.toLowerCase()]=function(t){return!!e.data(t,f)},e[a]=e[a]||{},i=e[a][t],s=e[a][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(r,function(t,r){if(!e.isFunction(r)){u[t]=r;return}u[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),s.prototype=e.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||t:t},u,{constructor:s,namespace:a,widgetName:t,widgetFullName:f}),i?(e.each(i._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete i._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){var i=n.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==r&&(e.isPlainObject(a)?t[u]=e.isPlainObject(t[u])?e.widget.extend({},t[u],a):e.widget.extend({},a):t[u]=a);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(o){var u=typeof o=="string",a=n.call(arguments,1),f=this;return u?!this.length&&o==="instance"?f=r:this.each(function(){var n,i=e.data(this,s);if(o==="instance")return f=i,!1;if(!i)return e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+t+" widget instance");n=i[o].apply(i,a);if(n!==i&&n!==r)return f=n&&n.jquery?f.pushStack(n.get()):n,!1}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,s);t?(t.option(o||{}),t._init&&t._init()):e.data(this,s,new i(o,this))})),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i=t,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof t=="string"){i={},s=t.split("."),t=s.shift();if(s.length){o=i[t]=e.widget.extend({},this.options[t]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];t=s.pop();if(arguments.length===1)return o[t]===r?null:o[t];o[t]=n}else{if(arguments.length===1)return this.options[t]===r?null:this.options[t];i[t]=n}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return e==="classes"&&this._setOptionClasses(t),this.options[e]=t,e==="disabled"&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,i;for(n in t){i=this.classesElementLookup[n];if(t[n]===this.options.classes[n]||!i||!i.length)continue;r=e(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var o,u;for(u=0;u<i.length;u++)o=r.classesElementLookup[i[u]]||e(),t.add?o=e(e.unique(o.get().concat(t.element.get()))):o=e(o.not(t.element).get()),r.classesElementLookup[i[u]]=o,n.push(i[u]),s&&t.classes[i[u]]&&n.push(t.classes[i[u]])}var n=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(r,i){e.inArray(t.target,i)!==-1&&(n.classesElementLookup[r]=e(i.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r=typeof r=="boolean"?r:n;var i=typeof e=="string"||e===null,s={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return s.element.toggleClass(this._classes(s),r),this},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.on(f,l,u):n.on(f,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget}),function(t){typeof define=="function"&&define.amd?define("navigation/base",["jquery","./path","./../ns"],t):t(e)}(function(e){var t,n=e("head").children("base"),i=function(){return e.mobile.dynamicBaseEnabled!==r?e.mobile.dynamicBaseEnabled:t.dynamicBaseEnabled};return t={dynamicBaseEnabled:!0,element:function(){if(!n||!n.length)n=e("<base>",{href:e.mobile.path.documentBase.hrefNoSearch}).prependTo(e("head"));return n},set:function(n){if(!i())return;t.element().attr("href",e.mobile.path.makeUrlAbsolute(n,e.mobile.path.documentBase))},reset:function(){if(!i())return;t.element().attr("href",e.mobile.path.documentBase.hrefNoSearch)}},e.mobile.base=t,t}),function(t){typeof define=="function"&&define.amd?define("widget",["jquery","./ns","jquery-ui/widget","./data"],t):t(e)}(function(e){return e.mobile.widget=e.mobile.widget||{}}),function(t){typeof define=="function"&&define.amd?define("widgets/widget.theme",["jquery","../core","../widget"],t):t(e)}(function(e){return e.mobile.widget.theme={_create:function(){var t=this;this._super(),e.each(this._themeElements(),function(e,n){t._addClass(n.element,null,n.prefix+t.options[n.option||"theme"])})},_setOption:function(t,n){var r=this;e.each(this._themeElements(),function(e,i){var s=i.option||"theme";s===t&&r._removeClass(i.element,null,i.prefix+r.options[i.option||"theme"])._addClass(i.element,null,i.prefix+n)}),this._superApply(arguments)}},e.mobile.widget.theme}),function(t){typeof define=="function"&&define.amd?define("widgets/enhancer.widgetCrawler",["jquery","../core","widgets/enhancer"],t):t(e)}(function(e){var t=function(n,r){e.each(r,function(r,i){var s=i.prototype,o=e.enhance,u=o.initGenerator(s),a;if(!u)return;a=n.find(u),o._filter&&(a=o._filter(a)),a[s.widgetName](),i._childConstructors&&i._childConstructors.length>0&&t(n,i._childConstructors)})},n=function(){if(!e.enhance.initGenerator||!e.Widget)return;t(this.addBack(),e.Widget._childConstructors)};return e.enhance.hooks.push(n),e.enhance}),function(t){typeof define=="function"&&define.amd?define("widgets/enhancer.backcompat",["jquery","widgets/enhancer","widgets/enhancer.widgetCrawler"],t):t(e)}(function(e){if(e.mobileBackcompat!==!1){var t=function(t){return t=t.not(e.mobile.keepNative),e.mobile.ignoreContentEnabled&&t.each(function(){e(this).closest("[data-"+e.mobile.ns+"enhance='false']").length&&(t=t.not(this))}),t},n=function(t){return t.initSelector||e[t.namespace][t.widgetName].prototype.initSelector||!1};e.enhance._filter=t,e.enhance.defaultProp=function(){return"data-"+e.mobile.ns+"role"},e.enhance.initGenerator=n}return e.enhance}),function(t){typeof define=="function"&&define.amd?define("widgets/page",["jquery","../widget","./widget.theme","../core","widgets/enhancer","widgets/enhancer.backcompat","widgets/enhancer.widgetCrawler"],t):t(e)}(function(e){return e.widget("mobile.page",{version:"@VERSION",options:{theme:"a",domCache:!1,enhanceWithin:!0,enhanced:!1},_create:function(){if(this._trigger("beforecreate")===!1)return!1;this._establishStructure(),this._setAttributes(),this._attachToDOM(),this._addHandlers(),this.options.enhanceWithin&&this.element.enhanceWithin()},_establishStructure:e.noop,_setAttributes:function(){this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0"),this._addClass("ui-page")},_attachToDOM:e.noop,_addHandlers:function(){this._on(this.element,{pagebeforehide:"_handlePageBeforeHide",pagebeforeshow:"_handlePageBeforeShow"})},bindRemove:function(t){var n=this.element;!n.data("mobile-page").options.domCache&&n.is(":jqmData(external-page='true')")&&this._on(this.document,{pagecontainerhide:t||function(t,n){if(n.prevPage[0]!==this.element[0])return;if(!n.samePage){var r=new e.Event("pageremove");this._trigger("remove",r),r.isDefaultPrevented()||this.element.removeWithDependents()}}})},_themeElements:function(){return[{element:this.element,prefix:"ui-page-theme-"}]},_handlePageBeforeShow:function(){this._setContainerSwatch(this.options.theme)},_handlePageBeforeHide:function(){this._setContainerSwatch("none")},_setContainerSwatch:function(e){var t=this.element.parent().pagecontainer("instance");t&&t.option("theme",e)}}),e.widget("mobile.page",e.mobile.page,e.mobile.widget.theme),e.mobile.page}),function(t){typeof define=="function"&&define.amd?define("widgets/pagecontainer",["jquery","../core","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/widget","../navigation/path","../navigation/base","../events/navigate","../navigation/history","../navigation/navigator","../navigation/method","../events/scroll","../support","../widgets/page"],t):t(e)}(function(e){var i=[],s=!1;return e.widget("mobile.pagecontainer",{version:"@VERSION",options:{theme:"a",changeOptions:{transition:r,reverse:!1,changeUrl:!0,changeHash:!0,fromHashChange:!1,duplicateCachedPage:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1}},initSelector:!1,_create:function(){var t=this.options;t.changeUrl=t.changeUrl?t.changeUrl:t.changeHash?!0:!1,e.mobile.pagecontainers=(e.mobile.pagecontainers?e.mobile.pagecontainers:[]).concat([this]),e.mobile.pagecontainers.active=this,this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this._addClass("ui-pagecontainer","ui-mobile-viewport"),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==r&&e.theme!=="none"?this._removeClass(null,"ui-overlay-"+this.options.theme)._addClass(null,"ui-overlay-"+e.theme):e.theme!==r&&this._removeClass(null,"ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(!this.setLastScrollEnabled)return;var e=this._getActiveHistory(),t,n;e&&(t=this._getScroll(),n=this._getDefaultScroll(),e.lastScroll=t<n?n:t)},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,n){var r;if(t.originalEvent&&t.originalEvent.isDefaultPrevented())return;r=t.originalEvent.type.indexOf("hashchange")>-1?n.state.hash:n.state.url,r||(r=this._getHash());if(!r||r==="#"||r.indexOf("#"+e.mobile.path.uiStateKey)===0)r=location.href;this._handleNavigate(r,n.state)},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(n){if(e.mobile.hashListeningEnabled)t.history.go(n);else{var r=e.mobile.navigate.history.activeIndex,i=r+parseInt(n,10),s=e.mobile.navigate.history.stack[i].url,o=n>=1?"forward":"back";e.mobile.navigate.history.activeIndex=i,e.mobile.navigate.history.previousIndex=r,this.change(s,{direction:o,changeUrl:!1,fromHashChange:!0})}},_handleDestination:function(t){var n;return e.type(t)==="string"&&(t=e.mobile.path.stripHash(t)),t&&(n=this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_optionFromHistory:function(e,t,n){var r=this._getHistory(),i=e==="back"?r.getLast():r.getActive();return i&&i[t]||n},_handleDialog:function(t,n){var r,i,s=this.getActivePage();return s&&!s.data("mobile-dialog")?(n.direction==="back"?this.back():this.forward(),!1):(r=n.pageUrl,i=this._getActiveHistory(),e.extend(t,{role:i.role,transition:this._optionFromHistory(n.direction,"transition",t.transition),reverse:n.direction==="back"}),r)},_handleNavigate:function(t,n){var r=e.mobile.path.stripHash(t),i=this._getHistory(),s=i.stack.length===0?"none":this._optionFromHistory(n.direction,"transition"),o={changeUrl:!1,fromHashChange:!0,reverse:n.direction==="back"};e.extend(o,n,{transition:s,allowSamePageTransition:this._optionFromHistory(n.direction,"allowSamePageTransition")});if(i.activeIndex>0&&r.indexOf(e.mobile.dialogHashKey)>-1){r=this._handleDialog(o,n);if(r===!1)return}this.change(this._handleDestination(r),o)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var n=this._createFileUrl(t),r=this._createDataUrl(t),i,s=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(r)+"']"),i.length===0&&r&&!e.mobile.path.isPath(r)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+r)).attr("data-"+this._getNs()+"url",r).jqmData("url",r)),i.length===0&&e.mobile.path.isFirstPageUrl(n)&&s&&s.parent().length&&(i=e(s)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,n,r,i){if(this._loadMsg)return;this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",n,r,i),this._loadMsg=0},this),t)},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,n){var r,i=e("<div></div>");return i.get(0).innerHTML=t,r=i.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gmi)[1]||"")+"</div>")),r.attr("data-"+this._getNs()+"url",this._createDataUrl(n)).attr("data-"+this._getNs()+"external-page",!0),r},_setLoadedTitle:function(t,n){var r=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;r&&!t.jqmData("title")&&(r=e("<div>"+r+"</div>").text(),t.jqmData("title",r))},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,n,r){var i=e.Event("page"+t),s=e.Event(this.widgetName+t);return(r||this.element).trigger(i,n),this._trigger(t,s,n),{deprecatedEvent:i,event:s}},_loadSuccess:function(t,n,i,s){var o=this._createFileUrl(t);return e.proxy(function(u,a,f){var l,c=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),h=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");c.test(u)&&RegExp.$1&&h.test(RegExp.$1)&&RegExp.$1&&(o=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),o=this.window[0].encodeURIComponent(o)),i.prefetch===r&&this._getBase().set(o),l=this._parse(u,o),this._setLoadedTitle(l,u),n.xhr=f,n.textStatus=a,n.page=l,n.content=l,n.toPage=l;if(this._triggerWithDeprecated("load",n).event.isDefaultPrevented())return;this._include(l,i),i.showLoadMsg&&this._hideLoading(),s.resolve(t,i,l)},this)},_loadDefaults:{type:"get",data:r,reload:!1,role:r,showLoadMsg:!1,loadMsgDelay:50},load:function(t,n){var i=n&&n.deferred||e.Deferred(),s=e.extend({},this._loadDefaults,n),o=null,u=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()),a,f,l,c;return s.data&&s.type==="get"&&(u=e.mobile.path.addSearchParams(u,s.data),s.data=r),s.data&&s.type==="post"&&(s.reload=!0),a=this._createFileUrl(u),f=this._createDataUrl(u),o=this._find(u),o.length===0&&e.mobile.path.isEmbeddedPage(a)&&!e.mobile.path.isFirstPageUrl(a)?(i.reject(u,s),i.promise()):(this._getBase().reset(),o.length&&!s.reload?(this._enhance(o,s.role),i.resolve(u,s,o),s.prefetch||this._getBase().set(t),i.promise()):(c={url:t,absUrl:u,toPage:t,prevPage:n?n.fromPage:r,dataUrl:f,deferred:i,options:s},l=this._triggerWithDeprecated("beforeload",c),l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()?i.promise():(s.showLoadMsg&&this._showLoading(s.loadMsgDelay),s.prefetch===r&&this._getBase().reset(),!e.mobile.allowCrossDomainPages&&!e.mobile.path.isSameDomain(e.mobile.path.documentUrl,u)?(i.reject(u,s),i.promise()):(e.ajax({url:a,type:s.type,data:s.data,contentType:s.contentType,dataType:"html",success:this._loadSuccess(u,c,s,i),error:this._loadError(u,c,s,i)}),i.promise()))))},_loadError:function(t,n,r,i){return e.proxy(function(s,o,u){this._getBase().set(e.mobile.path.get()),n.xhr=s,n.textStatus=o,n.errorThrown=u,this._hideLoading(),this._releaseTransitionLock();var a=this._triggerWithDeprecated("loadfailed",n);if(a.deprecatedEvent.isDefaultPrevented()||a.event.isDefaultPrevented())return;r.showLoadMsg&&this._showError(),i.reject(t,r)},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,n,r){var i=!1;r=r||"",n&&(t[0]===n[0]&&(i=!0),this._triggerWithDeprecated(r+"hide",{nextPage:t,toPage:t,prevPage:n,samePage:i},n)),this._triggerWithDeprecated(r+"show",{prevPage:n||e(""),toPage:t},t)},_performTransition:function(t,n,r,i){var s=e.Deferred();return i&&i.removeClass("ui-page-active"),r&&r.addClass("ui-page-active"),this._delay(function(){s.resolve(t,n,r,i,!1)},0),s.promise()},_cssTransition:function(t,n,r){var i=r.transition,s=r.reverse,o=r.deferred,u;this._triggerCssTransitionEvents(t,n,"before"),this._hideLoading(),u=this._performTransition(i,s,t,n),u.done(e.proxy(function(){this._triggerCssTransitionEvents(t,n)},this)),u.done(function(){o.resolve.apply(o,arguments)})},_releaseTransitionLock:function(){s=!1,i.length>0&&this.change.apply(this,i.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,n,r){return r.target=t,r.deferred=e.Deferred(),this.load(t,r),r.deferred.done(e.proxy(function(e,t,r){s=!1,t.absUrl=n.absUrl,this.transition(r,n,t)},this)),r.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",n)},this)),r.deferred.promise()},_triggerPageBeforeChange:function(t,n,r){var i;return n.prevPage=this.activePage,e.extend(n,{toPage:t,options:r}),e.type(t)==="string"?n.absUrl=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):n.absUrl=r.absUrl,i=this._triggerWithDeprecated("beforechange",n),i.event.isDefaultPrevented()||i.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(t,n){if(s){i.unshift(arguments);return}var r=e.extend({},this.options.changeOptions,n),o={};r.fromPage=r.fromPage||this.activePage;if(!this._triggerPageBeforeChange(t,o,r))return;return t=o.toPage,e.type(t)==="string"?(s=!0,this._loadUrl(t,o,r)):this.transition(t,o,r)},transition:function(t,o,u){var a,f,l,c,h,p,d,v,m,g,y,b,w,E;if(s){i.unshift([t,u]);return}if(!this._triggerPageBeforeChange(t,o,u))return;o.prevPage=u.fromPage,E=this._triggerWithDeprecated("beforetransition",o);if(E.deprecatedEvent.isDefaultPrevented()||E.event.isDefaultPrevented())return;s=!0,t[0]===e.mobile.firstPage[0]&&!u.dataUrl&&(u.dataUrl=e.mobile.path.documentUrl.hrefNoHash),a=u.fromPage,f=u.dataUrl&&e.mobile.path.convertUrlToDataUrl(u.dataUrl)||t.jqmData("url"),l=f,c=e.mobile.path.getFilePath(f),h=e.mobile.navigate.history.getActive(),p=e.mobile.navigate.history.activeIndex===0,d=0,v=n.title,m=(u.role==="dialog"||t.jqmData("role")==="dialog")&&t.jqmData("dialog")!==!0;if(a&&a[0]===t[0]&&!u.allowSamePageTransition){s=!1,this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o),u.fromHashChange&&e.mobile.navigate.history.direct({url:f});return}return t.page({role:u.role}),u.fromHashChange&&(d=u.direction==="back"?-1:1),e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),g=!1,m&&h&&(h.url&&h.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-page-dialog")&&e.mobile.navigate.history.activeIndex>0&&(u.changeUrl=!1,g=!0),f=h.url||"",!g&&f.indexOf("#")>-1?f+=e.mobile.dialogHashKey:f+="#"+e.mobile.dialogHashKey),y=h?t.jqmData("title")||t.children(":jqmData(type='header')").find(".ui-toolbar-title").text():v,!!y&&v===n.title&&(v=y),t.jqmData("title")||t.jqmData("title",v),u.transition=u.transition||(d&&!p?h.transition:r)||(m?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!d&&g&&(e.mobile.navigate.history.getActive().pageUrl=l),f&&!u.fromHashChange&&(!e.mobile.path.isPath(f)&&f.indexOf("#")<0&&(f="#"+f),b={allowSamePageTransition:u.allowSamePageTransition,transition:u.transition,title:v,pageUrl:l,role:u.role},u.changeUrl!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(f),b,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(f,b)),n.title=v,e.mobile.activePage=t,this.activePage=t,u.reverse=u.reverse||d<0,w=e.Deferred(),this._cssTransition(t,a,{transition:u.transition,reverse:u.reverse,deferred:w}),w.done(e.proxy(function(n,r,i,s,a){e.mobile.removeActiveLinkClass(),u.duplicateCachedPage&&u.duplicateCachedPage.remove(),a||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o)},this)),w.promise()},_findBaseWithDefault:function(){var t=this.activePage&&e.mobile.getClosestBaseUrl(this.activePage);return t||e.mobile.path.documentBase.hrefNoHash},_themeElements:function(){return[{element:this.element,prefix:"ui-overlay-"}]},_destroy:function(){var t;e.mobile.pagecontainers&&(t=e.inArray(this.element,e.mobile.pagecontainers),t>=0&&(e.mobile.pagecontainers.splice(t,1),e.mobile.pagecontainers.length?e.mobile.pagecontainers.active=e.mobile.pagecontainers[0]:e.mobile.pagecontainers.active=r)),this._super()}}),e.mobile.navreadyDeferred=e.Deferred(),e.widget("mobile.pagecontainer",e.mobile.pagecontainer,e.mobile.widget.theme),e.mobile.pagecontainer}),function(t){typeof define=="function"&&define.amd?define("transitions/transition",["jquery","../core","../events/scroll","../animationComplete"],t):t(e)}(function(e){return e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,n,r,i){e.extend(this,{name:t,reverse:n,$to:r,$from:i,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass("ui-page-active out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass("ui-page-active"),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,n,r){this.beforeDoneOut(),this.startIn(e,t,n,r)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,n,r,i){this.hideIn(function(){this.$to.addClass("ui-page-active"+this.toPreClass),i||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),r||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+n),r?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,n,r){this.beforeStartOut(t,n,r),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+n)},toggleViewportClass:function(){this.$to.closest(".ui-pagecontainer").toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(n){var r,i=this.reverse?" reverse":"",s=e(t).height(),o=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=n?n:0,r=!e.support.cssTransitions||!e.support.cssAnimations||o||!this.name||this.name==="none"||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!r?this.startOut(s,i,r):this.doneOut(s,i,r,!0),this.deferred.promise()}}),e.mobile.Transition}),function(t){typeof define=="function"&&define.amd?define("transitions/serial",["jquery","../animationComplete","./transition"],t):t(e)}(function(e){return e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,n,r){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,n,r)},this))}}),e.mobile.SerialTransition}),function(t){typeof define=="function"&&define.amd?define("transitions/concurrent",["jquery","./transition"],t):t(e)}(function(e){return e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,n){this.doneOut(e,t,n)}}),e.mobile.ConcurrentTransition}),function(t){typeof define=="function"&&define.amd?define("transitions/handlers",["jquery","../core","./serial","./concurrent"],t):t(e)}(function(e){var n=function(){return e(t).height()*3};return e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||n,e.mobile.transitionHandlers}),function(t){typeof define=="function"&&define.amd?define("navigation",["jquery","./core","./navigation/path","./events/navigate","./navigation/history","./navigation/navigator","./navigation/method","./support","./animationComplete","./widgets/pagecontainer","./widgets/page","./transitions/handlers"],t):t(e)}(function(e){function l(e){while(e){if(typeof e.nodeName=="string"&&e.nodeName.toLowerCase()==="a")break;e=e.parentNode}return e}var i=e.Deferred(),s=e.Deferred(),o=function(){s.resolve(),s=null},u=e.mobile.path,a=u.documentUrl,f=null;return e.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():e.mobile.pagecontainers.active.back()},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile._registerInternalEvents=function(){var n=function(t,n){var r,i=!0,s,o,l;return!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(r=f&&f.attr("formaction")||t.attr("action"),l=(t.attr("method")||"get").toLowerCase(),r||(r=e.mobile.getClosestBaseUrl(t),l==="get"&&(r=u.parseUrl(r).hrefNoSearch),r===u.documentBase.hrefNoHash&&(r=a.hrefNoSearch)),r=u.makeUrlAbsolute(r,e.mobile.getClosestBaseUrl(t)),u.isExternal(r)&&!u.isPermittedCrossDomainRequest(a,r)?!1:(n||(s=t.serializeArray(),f&&f[0].form===t[0]&&(o=f.attr("name"),o&&(e.each(s,function(e,t){if(t.name===o)return o="",!1}),o&&s.push({name:o,value:f.attr("value")}))),i={url:r,options:{type:l,data:e.param(s),transition:t.jqmData("transition"),reverse:t.jqmData("direction")==="reverse",reloadPage:!0}}),i))};e.mobile.document.delegate("form","submit",function(t){var r;t.isDefaultPrevented()||(r=n(e(this)),r&&(e(this).closest(".ui-pagecontainer").pagecontainer("change",r.url,r.options),t.preventDefault()))}),e.mobile.document.bind("vclick",function(t){var r,i=t.target;if(t.which>1||!e.mobile.linkBindingEnabled)return;f=e(i);if(e.data(i,"ui-button")){if(!n(e(i).closest("form"),!0))return}else{i=l(i);if(!i||u.parseUrl(i.getAttribute("href")||"#").hash==="#"&&i.getAttribute("data-"+e.mobile.ns+"rel")!=="back")return;if(!e(i).jqmHijackable().length)return}r=e(i).closest(".ui-button"),r.length>0&&!r.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=r,e.mobile.activeClickedLink.addClass("ui-button-active"))}),e.mobile.document.bind("click",function(n){if(!e.mobile.linkBindingEnabled||n.isDefaultPrevented())return;var i=l(n.target),s=e(i),o=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)},f,c,h,p,d,v,m;e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===n.target&&o();if(!i||n.which>1||!s.jqmHijackable().length)return;if(s.is(":jqmData(rel='back')"))return e.mobile.back(),!1;f=e.mobile.getClosestBaseUrl(s),c=u.makeUrlAbsolute(s.attr("href")||"#",f);if(!e.mobile.ajaxEnabled&&!u.isEmbeddedPage(c)){o();return}if(c.search("#")!==-1&&(!u.isExternal(c)||!u.isAbsoluteUrl(c))){c=c.replace(/[^#]*#/,"");if(!c){n.preventDefault();return}u.isPath(c)?c=u.makeUrlAbsolute(c,f):c=u.makeUrlAbsolute("#"+c,a.hrefNoHash)}h=s.is("[rel='external']")||s.is(":jqmData(ajax='false')")||s.is("[target]"),p=h||u.isExternal(c)&&!u.isPermittedCrossDomainRequest(a,c);if(p){o();return}d=s.jqmData("transition"),v=s.jqmData("direction")==="reverse"||s.jqmData("back"),m=s.attr("data-"+e.mobile.ns+"rel")||r,s.closest(".ui-pagecontainer").pagecontainer("change",c,{transition:d,reverse:v,role:m,link:s}),n.preventDefault()}),e.mobile.document.delegate(".ui-page","page.prefetch",function(){var t=[],n=this;e(this).find("a:jqmData(prefetch)").each(function(){var r=e(this),i=r.attr("href");i&&e.inArray(i,t)===-1&&(t.push(i),e(n).closest(".ui-pagecontainer").pagecontainer("load",i,{role:r.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.document.bind("pageshow",function(){s?s.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){i.resolve()}),n.readyState==="complete"?o():e.mobile.window.on("load",o),e.when(i,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()}),e.mobile}),function(t){typeof define=="function"&&define.amd?define("widgets/loader",["jquery","../helpers","../defaults","./widget.theme","../widget"],t):t(e)}(function(e){var t=e("html");return e.widget("mobile.loader",{version:"@VERSION",options:{classes:{"ui-loader":"ui-corner-all","ui-loader-icon":"ui-icon-loading"},enhanced:!1,theme:"a",textVisible:!1,text:"loading"},_create:function(){this.loader={},this.options.enhanced?(this.loader.span=this.element.children("span"),this.loader.header=this.element.children("h1")):(this.loader.span=e("<span>"),this.loader.header=e("<h1>")),this._addClass("ui-loader"),this._addClass(this.loader.span,"ui-loader-icon"),this._addClass(this.loader.header,"ui-loader-header"),this.options.enhanced||this.element.append(this.loader.span).append(this.loader.header)},_themeElements:function(){return[{element:this.element,prefix:"ui-body-"}]},show:function(n,r,i){var s,o,u,a;e.type(n)==="object"?(u=e.extend({},this.options,n),n=u.theme):(u=this.options,n=n||u.theme),o=r||(u.text===!1?"":u.text),this._addClass(t,"ui-loading"),s=u.textVisible,a=this.element.attr("class").match(/\bui-body-[a-z]\b/)||[],this._removeClass.apply(this,["ui-loader-verbose ui-loader-default ui-loader-textonly"].concat(a))._addClass("ui-loader-"+(s||r||n.text?"verbose":"default")+(u.textonly||i?" ui-loader-textonly":""),"ui-body-"+n),this.loader.header.text(o),this.element.appendTo(e.mobile.pagecontainer?e(":mobile-pagecontainer"):e("body"))},hide:function(){this._removeClass(t,"ui-loading")}}),e.widget("mobile.loader",e.mobile.loader,e.mobile.widget.theme)}),function(t){typeof define=="function"&&define.amd?define("init",["jquery","./defaults","./helpers","./data","./support","./widgets/enhancer","./events/navigate","./navigation/path","./navigation/method","./navigation","./widgets/loader","./vmouse"],t):t(e)}(function(e){function o(){i.removeClass("ui-mobile-rendering")}var i=e("html"),s=e.mobile.window;e.mobile.document.trigger("mobileinit");if(!e.mobile.gradeA())return;e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),i.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3),e.extend(e.mobile,{initializePage:function(){var t,i=e.mobile.path,u=e(":jqmData(role='page'), :jqmData(role='dialog')"),a=i.stripHash(i.stripQueryParams(i.parseLocation().hash)),f=e.mobile.path.parseLocation(),l=a?n.getElementById(a):r;u.length||(u=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),u.each(function(){var t=e(this);t[0].getAttribute("data-"+e.mobile.ns+"url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||i.convertUrlToDataUrl(f.pathname+f.search))}),e.mobile.firstPage=u.first(),t=e.mobile.firstPage.parent().pagecontainer(),e.mobile.navreadyDeferred.resolve(),e.mobile.loading("show"),o(),!e.mobile.hashListeningEnabled||!e.mobile.path.isHashValid(location.hash)||!e(l).is(":jqmData(role='page')")&&!e.mobile.path.isPath(a)&&a!==e.mobile.dialogHashKey?(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(i.parseLocation().href),t.pagecontainer("change",e.mobile.firstPage,{transition:"none",reverse:!0,changeUrl:!1,fromHashChange:!0})):e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):s.trigger("hashchange",[!0])}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=!e.support.scrollTop||e.mobile.window.scrollTop()===1?0:1,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})})}),function(t){typeof define=="function"&&define.amd?define("widgets/widget.backcompat",["jquery","../ns","../widget","jquery-ui/widget"],t):t(e)}(function(e){if(e.mobileBackcompat!==!1){var t=/\S+/g;e.mobile.widget=e.extend({},{backcompat:{_boolOptions:{inline:"ui-button-inline",mini:"ui-mini",shadow:"ui-shadow",corners:"ui-corner-all"},_create:function(){this._setInitialOptions(),this._super(),!this.options.enhanced&&this.options.wrapperClass&&this._addClass(this.widget(),null,this.options.wrapperClass)},_classesToOption:function(n){if(this.classProp&&typeof n[this.classProp]=="string"){var i=this,s=n[this.classProp].match(t)||[];e.each(this._boolOptions,function(t,n){i.options[t]!==r&&(e.inArray(n,s)!==-1?i.options[t]=!0:i.options[t]=!1)})}},_getClassValue:function(n,r,i){var s=this.options.classes[n]||"",o=s.match(t)||[];return i?e.inArray(r,o)===-1&&o.push(r):o.splice(e.inArray(r,o),1),o.join(" ")},_optionsToClasses:function(e,t){var n=this.classProp,r=this._boolOptions[e];n&&this.option("classes."+n,this._getClassValue(n,r,t))},_setInitialOptions:function(){var n,i=this.options,s=e[this.namespace][this.widgetName].prototype.options,o=this.classProp,u=this;o&&(n=(i.classes[o]||"").match(t)||[],s.classes[o]!==i.classes[o]?e.each(this._boolOptions,function(t,s){i[t]!==r&&(i[t]=e.inArray(s,n)!==-1)}):e.each(this._boolOptions,function(e,t){i[e]!==s[e]&&(i.classes[o]=u._getClassValue(o,t,i[e]))}))},_setOption:function(e,t){var n;e==="classes"&&this._classesToOption(t),this._boolOptions[e]&&this._optionsToClasses(e,t),e==="wrapperClass"&&(n=this.widget(),this._removeClass(n,null,this.options.wrapperClass)._addClass(n,null,t)),this._superApply(arguments)}}},e.mobile.widget)}else e.mobile.widget.backcompat={};return e.mobile.widget})});